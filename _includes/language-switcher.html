{% comment %}
Language switcher component
{% endcomment %}

{% assign current_lang = page.lang | default: site.default_lang | default: "zh" %}

<div class="language-switcher flex items-center space-x-2">
  {% if current_lang == "zh" %}
    <span class="text-primary-300 text-sm font-medium px-2 py-1 rounded bg-primary-900">
      中文
    </span>
    <span class="text-gray-500">|</span>
    <a href="/en{{ page.url }}" 
       class="text-gray-400 hover:text-primary-300 text-sm font-medium px-2 py-1 rounded hover:bg-gray-800 transition duration-200"
       title="Switch to English">
      English
    </a>
  {% else %}
    {% assign chinese_url = page.url | replace: '/en', '' %}
    {% if chinese_url == '/' %}
      {% assign chinese_url = '/' %}
    {% elsif chinese_url contains '//' %}
      {% assign chinese_url = chinese_url | replace: '//', '/' %}
    {% endif %}
    <a href="{{ chinese_url }}" 
       class="text-gray-400 hover:text-primary-300 text-sm font-medium px-2 py-1 rounded hover:bg-gray-800 transition duration-200"
       title="切换到中文">
      中文
    </a>
    <span class="text-gray-500">|</span>
    <span class="text-primary-300 text-sm font-medium px-2 py-1 rounded bg-primary-900">
      English
    </span>
  {% endif %}
</div>
