{% comment %}
JSON-LD Structured Data for Breadcrumbs
{% endcomment %}
{% assign current_lang = page.lang | default: site.default_lang | default: "zh" %}
{% if current_lang == "en" %}
  {% assign home_url = "/en/" %}
  {% assign home_text = "Home" %}
{% else %}
  {% assign home_url = "/" %}
  {% assign home_text = "首页" %}
{% endif %}

{% unless page.url == "/" or page.url == "/en/" %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "{{ home_text }}",
      "item": "{{ site.url }}{{ site.baseurl }}{{ home_url }}"
    }
    {% assign position = 2 %}
    {% assign breadcrumb_url = '' %}
    {% assign url_parts = page.url | split: '/' %}
    {% for part in url_parts %}
      {% unless part == '' or part == 'en' %}
        {% assign breadcrumb_url = breadcrumb_url | append: '/' | append: part %}
        ,{
          "@type": "ListItem",
          "position": {{ position }},
          "name": "{% case part %}{% when 'services' %}{% if current_lang == "en" %}Services{% else %}服务{% endif %}{% when 'team' %}{% if current_lang == "en" %}Team{% else %}团队{% endif %}{% when 'contact-us' %}{% if current_lang == "en" %}Contact Us{% else %}联系我们{% endif %}{% when 'about' %}{% if current_lang == "en" %}About{% else %}关于我们{% endif %}{% when 'disclosure' %}{% if current_lang == "en" %}Disclosure{% else %}披露{% endif %}{% when 'blog' %}{% if current_lang == "en" %}Blog{% else %}博客{% endif %}{% when 'privacy-policy' %}{% if current_lang == "en" %}Privacy Policy{% else %}隐私政策{% endif %}{% when 'terms' %}{% if current_lang == "en" %}Terms{% else %}条款{% endif %}{% else %}{% if page.title %}{{ page.title }}{% else %}{{ part | replace: '-', ' ' | capitalize }}{% endif %}{% endcase %}"
          {% if forloop.last %}
          ,"item": "{{ site.url }}{{ site.baseurl }}{{ page.url }}"
          {% else %}
          ,"item": "{{ site.url }}{{ site.baseurl }}{% if current_lang == "en" %}/en{% endif %}{{ breadcrumb_url }}"
          {% endif %}
        }
        {% assign position = position | plus: 1 %}
      {% endunless %}
    {% endfor %}
  ]
}
</script>
{% endunless %}



