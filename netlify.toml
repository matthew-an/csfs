[build]
  command = "jekyll build"

[context.production.environment]
  JEKYLL_ENV = "production"
  NODE_VERSION = "18"

[context.branch-deploy.environment]
  JEKYLL_ENV = "staging"
  NODE_VERSION = "18"

[context.deploy-preview.environment]
  JEKYLL_ENV = "staging"
  NODE_VERSION = "18"

# Redirect rules to handle trailing slash inconsistencies
[[redirects]]
  from = "/faq/"
  to = "/faq"
  status = 301

[[redirects]]
  from = "/services/"
  to = "/services"
  status = 301

[[redirects]]
  from = "/team/"
  to = "/team"
  status = 301

[[redirects]]
  from = "/blog/"
  to = "/blog"
  status = 301

[[redirects]]
  from = "/contact-us/"
  to = "/contact-us"
  status = 301

[[redirects]]
  from = "/about/"
  to = "/about"
  status = 301

[[redirects]]
  from = "/glossary/"
  to = "/glossary"
  status = 301

[[redirects]]
  from = "/calculators/"
  to = "/calculators"
  status = 301

[[redirects]]
  from = "/disclosure/"
  to = "/disclosure"
  status = 301

[[redirects]]
  from = "/privacy-policy/"
  to = "/privacy-policy"
  status = 301

[[redirects]]
  from = "/terms/"
  to = "/terms"
  status = 301
